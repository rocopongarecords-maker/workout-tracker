@tailwind base;
@tailwind components;
@tailwind utilities;

/* ─── Theme System ─── */
:root {
  /* Ocean theme (default) */
  --color-primary: 59, 130, 246;      /* #3b82f6 blue-500 */
  --color-primary-light: 96, 165, 250; /* #60a5fa blue-400 */
  --color-primary-dark: 37, 99, 235;   /* #2563eb blue-600 */
  --font-family: 'Inter', system-ui, Avenir, Helvetica, Arial, sans-serif;
}

[data-theme="ember"] {
  --color-primary: 249, 115, 22;       /* #f97316 orange-500 */
  --color-primary-light: 251, 146, 60; /* #fb923c orange-400 */
  --color-primary-dark: 234, 88, 12;   /* #ea580c orange-600 */
}

[data-theme="violet"] {
  --color-primary: 139, 92, 246;       /* #8b5cf6 violet-500 */
  --color-primary-light: 167, 139, 250;/* #a78bfa violet-400 */
  --color-primary-dark: 124, 58, 237;  /* #7c3aed violet-600 */
}

body {
  margin: 0;
  min-height: 100vh;
  font-family: var(--font-family);
  @apply bg-slate-950 text-white antialiased;
}

input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type="number"] {
  -moz-appearance: textfield;
}

/* ─── Design System: Glass Dark ─── */

@layer components {
  /* Glass Cards */
  .glass-card {
    @apply bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl;
  }
  .glass-card-elevated {
    @apply bg-white/[0.08] backdrop-blur-xl border border-white/10 rounded-2xl shadow-lg shadow-black/20;
  }
  .glass-card-interactive {
    @apply bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl
           hover:bg-white/[0.08] hover:border-white/[0.15] active:scale-[0.98] transition-all duration-200;
  }

  /* Buttons — using CSS custom properties for theme colors */
  .btn-primary {
    background: linear-gradient(to right, rgb(var(--color-primary)), rgb(var(--color-primary-dark)));
    box-shadow: 0 10px 15px -3px rgba(var(--color-primary), 0.25);
    @apply text-white rounded-xl font-semibold active:scale-[0.98] transition-all duration-200;
  }
  .btn-primary:hover {
    background: linear-gradient(to right, rgb(var(--color-primary-light)), rgb(var(--color-primary)));
    box-shadow: 0 10px 15px -3px rgba(var(--color-primary), 0.4);
  }
  .btn-secondary {
    @apply bg-white/5 border border-white/10 text-white rounded-xl font-semibold
           hover:bg-white/10 active:scale-[0.98] transition-all duration-200;
  }
  .btn-danger {
    @apply bg-red-500/20 border border-red-500/30 text-red-400 rounded-xl font-semibold
           hover:bg-red-500/30 shadow-lg shadow-red-500/10 active:scale-[0.98] transition-all duration-200;
  }
  .btn-back {
    @apply flex items-center gap-2 text-slate-400 hover:text-white transition-colors
           px-2 py-1 -ml-2 rounded-lg hover:bg-white/5;
  }

  /* Typography */
  .stat-number {
    @apply font-bold text-white;
    font-variant-numeric: tabular-nums;
  }
}

/* ─── Theme-aware glow shadows ─── */
.shadow-glow-primary {
  box-shadow: 0 0 20px rgba(var(--color-primary), 0.15);
}

/* ─── Shimmer animation for loading skeletons ─── */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.animate-shimmer {
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0.04) 50%,
    rgba(255, 255, 255, 0) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

/* ─── Stagger delays for entrance animations ─── */
.stagger-1 { animation-delay: 0.05s; }
.stagger-2 { animation-delay: 0.1s; }
.stagger-3 { animation-delay: 0.15s; }
.stagger-4 { animation-delay: 0.2s; }
.stagger-5 { animation-delay: 0.25s; }
.stagger-6 { animation-delay: 0.3s; }
.stagger-7 { animation-delay: 0.35s; }
.stagger-8 { animation-delay: 0.4s; }
.stagger-9 { animation-delay: 0.45s; }
.stagger-10 { animation-delay: 0.5s; }

/* ─── Backdrop-blur fallback for older devices ─── */
@supports not (backdrop-filter: blur(1px)) {
  .glass-card {
    @apply bg-slate-800/90 border-slate-700;
  }
  .glass-card-elevated {
    @apply bg-slate-800/95 border-slate-700 shadow-lg shadow-black/30;
  }
  .glass-card-interactive {
    @apply bg-slate-800/90 border-slate-700 hover:bg-slate-700/90;
  }
}
